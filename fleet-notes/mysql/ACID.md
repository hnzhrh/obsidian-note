---
title: ACID
tags:
  - fleet-note
  - middleware/database/mysql
date: 2024-12-02
time: 15:40
aliases:
---


ACID 属性是通过数据库管理系统 (DBMS) 中的多种机制和技术来实现的。下面是一些常见的实现方式：

### 原子性（Atomicity）

- **事务日志**：记录每个事务开始前后的状态变化。如果事务在执行过程中失败，DBMS 可以使用这些日志来回滚到事务开始之前的状态。
- **保存点**：允许开发者在事务内设置保存点，这样可以在发生错误时回滚至特定的保存点而不是整个事务。

### 一致性（Consistency）

- **约束和规则**：如外键、唯一键等约束条件确保了数据的一致性。
- **触发器**：自动执行一些 SQL 语句或过程以响应某些事件的发生，比如在插入新记录时自动更新相关表。
- **事务管理**：确保事务中所有操作都遵守预定义的数据完整性规则。

### 隔离性（Isolation）

- **锁机制**：包括共享锁（读锁）和排他锁（写锁），用于防止多个事务同时修改同一数据项。
- **多版本并发控制（MVCC）**：允许多个事务读取相同的数据行而不会互相干扰；每个事务看到的是一个独立的数据副本，直到事务提交才会合并更改。
- **隔离级别**：不同的隔离级别（如 READ UNCOMMITTED, READ COMMITTED, REPEATABLE READ, SERIALIZABLE）提供不同程度的数据访问限制，以平衡性能与正确性。

### 挅久性（Durability）

- **日志文件**：除了支持原子性和恢复外，日志还保证了即使在系统崩溃后也能恢复已提交的事务。
- **双写技术**：在将数据写入磁盘之前先写入日志缓冲区，并且只有当确认日志安全地存储在非易失性介质上之后才更新内存中的数据结构。
- **备份和复制**：定期创建数据库备份以及使用镜像或复制技术来增加数据的安全性和可用性。

这些技术和方法共同作用，使得现代关系型数据库能够提供强大的事务处理能力，满足各种应用场景下的需求。不过值得注意的是，根据具体的应用场景和业务需求，有时候可能需要权衡 ACID 特性之间的强度，例如为了提高并发性能可能会适当降低隔离级别的要求。
# References